{"version":3,"file":"fluture-axios.esm.js","sources":["../src/request.js","../src/main.js"],"sourcesContent":["import axios from 'axios'\nimport Future from 'fluture'\n\nconst { CancelToken } = axios\n\nconst request = (config) => {\n  if (typeof config === 'string') {\n    config = Object.assign({ url: config }, arguments[1])\n  }\n\n  let cancel\n\n  return Future((reject, resolve) => {\n    const cancelToken = new CancelToken(c => { cancel = c })\n    axios.request({ ...config, cancelToken })\n      .then(resolve)\n      .catch(reject)\n\n    return cancel.bind(cancel, 'Future canceled')\n  })\n}\n\nexport default request\n","import request from './request'\n\nconst fluxios = request\nfluxios.request = request\n\nconst methodsWithNoData = ['delete', 'get', 'head', 'options']\nconst methodsWithData = ['post', 'put', 'patch']\n\nmethodsWithNoData.forEach(method => {\n  fluxios[method] = (url, config = {}) =>\n    fluxios.request(Object.assign({}, config, { method, url }))\n})\n\nmethodsWithData.forEach(method => {\n  fluxios[method] = (url, data, config = {}) =>\n    fluxios.request(Object.assign({}, config, { data, method, url }))\n})\n\nexport default fluxios\n"],"names":["CancelToken","axios","request","config","Object","assign","url","arguments","cancel","Future","reject","resolve","cancelToken","c","then","catch","bind","fluxios","methodsWithNoData","methodsWithData","forEach","method","data"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAGA,MAAM,EAAEA,WAAF,KAAkBC,KAAxB;;AAEA,MAAMC,UAAWC,MAAD,IAAY;MACtB,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;aACrBC,OAAOC,MAAP,CAAc,EAAEC,KAAKH,MAAP,EAAd,EAA+BI,WAAU,CAAV,CAA/B,CAAT;;;MAGEC,MAAJ;;SAEOC,OAAO,CAACC,MAAD,EAASC,OAAT,KAAqB;UAC3BC,cAAc,IAAIZ,WAAJ,CAAgBa,KAAK;eAAWA,CAAT;KAAvB,CAApB;UACMX,OAAN,cAAmBC,MAAnB,IAA2BS,WAA3B,KACGE,IADH,CACQH,OADR,EAEGI,KAFH,CAESL,MAFT;;WAIOF,OAAOQ,IAAP,CAAYR,MAAZ,EAAoB,iBAApB,CAAP;GANK,CAAP;CAPF;;ACHA,MAAMS,UAAUf,OAAhB;AACAe,QAAQf,OAAR,GAAkBA,OAAlB;;AAEA,MAAMgB,oBAAoB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,SAA1B,CAA1B;AACA,MAAMC,kBAAkB,CAAC,MAAD,EAAS,KAAT,EAAgB,OAAhB,CAAxB;;AAEAD,kBAAkBE,OAAlB,CAA0BC,UAAU;UAC1BA,MAAR,IAAkB,CAACf,GAAD,EAAMH,SAAS,EAAf,KAChBc,QAAQf,OAAR,CAAgBE,OAAOC,MAAP,CAAc,EAAd,EAAkBF,MAAlB,EAA0B,EAAEkB,MAAF,EAAUf,GAAV,EAA1B,CAAhB,CADF;CADF;;AAKAa,gBAAgBC,OAAhB,CAAwBC,UAAU;UACxBA,MAAR,IAAkB,CAACf,GAAD,EAAMgB,IAAN,EAAYnB,SAAS,EAArB,KAChBc,QAAQf,OAAR,CAAgBE,OAAOC,MAAP,CAAc,EAAd,EAAkBF,MAAlB,EAA0B,EAAEmB,IAAF,EAAQD,MAAR,EAAgBf,GAAhB,EAA1B,CAAhB,CADF;CADF;;;;"}